<!-- TITLE CAROUSEL COMPONENT PAGE -->
<div class="panelTitle">
  <h2> <strong> Carousel </strong> Component </h2>
  <ul>
    <li><a href="#">Simple Carousel</a></li>
    <li><a href="#">Automatic Carousel</a></li>
    <li><a href="#">Images Carousel</a></li>
  </ul>
</div>

<!-- DESCRIPTION ACCORDION COMPONENT PAGE -->
<div class="titleComponent">
  <div class="descriptionComponent" id="nrmTabs">
    <h3> Simple Carousel </h3>
    <p> It's a carousel with 2 buttons and a list of bullepoints </p>


    <!-- CAROUSEL DEMO -->
    <c3m-carousel>

      <c3m-carousel-item [index]="0">
          <p>Slide 1</p>
      </c3m-carousel-item>

      <c3m-carousel-item [index]="1">
          <p>Slide 2</p>
      </c3m-carousel-item>

      <c3m-carousel-item [index]="2">
          <p>Slide 3</p>
      </c3m-carousel-item>

    </c3m-carousel>


    <p> This component is accessible and semantic. He owns two breakpoints. Slides can be browsed with arrow buttons or bullet points</p>

    <!-- TABS SNIPPETS -->
    <c3m-tabs>
      <c3m-tab tabTitle="HTML">
        <p class="pre-code"> To call the component </p>
        <div class="code">
          <!--?prettify lang=html linenums=true?-->
          <pre class="prettyprint linenums">
              <code>
                  &#x3C;c3m-carousel&#x3E;

                    &#x3C;c3m-carousel-item [index]=&#x22;0&#x22;&#x3E;
                        &#x3C;p&#x3E;Slide 1&#x3C;/p&#x3E;
                    &#x3C;/c3m-carousel-item&#x3E;

                    &#x3C;c3m-carousel-item [index]=&#x22;1&#x22;&#x3E;
                        &#x3C;p&#x3E;Slide 2&#x3C;/p&#x3E;
                    &#x3C;/c3m-carousel-item&#x3E;

                    &#x3C;c3m-carousel-item [index]=&#x22;2&#x22;&#x3E;
                        &#x3C;p&#x3E;Slide 3&#x3C;/p&#x3E;
                    &#x3C;/c3m-carousel-item&#x3E;

                  &#x3C;/c3m-carousel&#x3E;
              </code>
            </pre>
        </div>

        <p class="pre-code"> For <strong>carousel.component.html</strong></p>
        <div class="code">
          <!--?prettify lang=html linenums=true?-->
          <pre class="prettyprint linenums">
              <code>
                  &#x3C;!-- A Carousel --&#x3E;
                  &#x3C;div class=&#x22;carousel&#x22;&#x3E;

                      &#x3C;!-- Carousel Item List --&#x3E;
                     &#x3C;ul role=&#x22;tablist&#x22; class=&#x22;carouselItemList&#x22;&#x3E;
                         &#x3C;ng-content&#x3E;&#x3C;/ng-content&#x3E;
                     &#x3C;/ul&#x3E;

                      &#x3C;!-- Carousel Bullet Points --&#x3E;
                      &#x3C;ul class=&#x22;bulletpoint&#x22;&#x3E;
                          &#x3C;li *ngFor=&#x22;let groupItem of groups; let i = &#x27;index&#x27; &#x22;
                              [attr.aria-controls]=&#x22;groupItem.itemID &#x22;
                              role=&#x22;tab&#x22;
                              [attr.aria-selected]=&#x22;groupItem.isVisible&#x22;
                              tabindex = &#123; &#123; groupItem.tabIndex &#125; &#125; &#x3E;

                              &#x3C;button #bulletPoint aria-label=&#x22;Go to this slide&#x22; (click)=&#x22;goTo(i)&#x22;&#x3E; &#x3C;/button&#x3E;
                          &#x3C;/li&#x3E;
                      &#x3C;/ul&#x3E;

                  &#x3C;/div&#x3E;
              </code>
            </pre>
        </div>

        <p class="pre-code"> For <strong>carousel-item.component.html</strong></p>
        <div class="code">
          <!--?prettify lang=html linenums=true?-->
          <pre class="prettyprint linenums">
              <code>
                  &#x3C;!-- A Carousel Item--&#x3E;
                  &#x3C;li class=&#x22;carousel-item &#x22; role= &#x22; tab&#x22; tabindex= &#123; &#123; tabIndex &#125; &#125;  [attr.aria-selected]=&#x22;isVisible&#x22; [attr.aria-controls]=&#x22;itemID&#x22;&#x3E;
                          &#x3C;!-- Previous button --&#x3E;
                          &#x3C;button class=&#x22;previousCarouselItem&#x22; tabindex= &#123; &#123; tabIndex &#125; &#125; (click)=&#x22;previousSlide()&#x22; aria-label=&#x22;Previous slide&#x22;&#x3E;&#x3C;/button&#x3E;

                          &#x3C;!-- Carousel item Content --&#x3E;
                          &#x3C;div class=&#x22;carousel-item-content&#x22; role=&#x22;tabpanel&#x22; id= &#123; &#123; itemID &#125; &#125; [attr.aria-hidden]=&#x22;!isVisible&#x22;&#x3E;
                              &#x3C;ng-content &#x3E; &#x3C; /ng-content &#x3E;
                          &#x3C;/div&#x3E;

                          &#x3C;!-- Next Button --&#x3E;
                          &#x3C;button class=&#x22;nextCarouselItem&#x22; tabindex= &#123; &#123; tabIndex &#125; &#125; (click)=&#x22;nextSlide()&#x22; aria-label=&#x22;Next slide&#x22;&#x3E;&#x3C;/button&#x3E;
                  &#x3C;/li&#x3E;

              </code>
            </pre>
        </div>
      </c3m-tab>

      <c3m-tab tabTitle="CSS">
        <p class="pre-code"> To call the component <strong>(carousel-component.css)</strong> </p>
        <div class="code">
          <!--?prettify lang=css linenums=true?-->
          <pre class="prettyprint linenums">
              <code>

                  c3m-carousel .carousel&#123;
                      position:relative;
                      overflow: hidden;
                  &#125;

                      c3m-carousel .carouselItemList&#123;
                          overflow:hidden;
                          margin:0 auto;
                          display:block;
                          width:100%;
                          height: 20rem;
                      &#125;
                      /* BULLEPOINTS */
                      c3m-carousel .bulletpoint&#123;
                          display:block;
                          margin: 0 auto;
                          text-align:center;
                          width:100%;
                          position:absolute;
                          z-index:17;
                          bottom: 5%;
                      &#125;
                          c3m-carousel .bulletpoint li &#123;
                              height: 1.2rem;
                              width: 1.2rem;
                              background-color: #c7c4c4;
                              display: inline-block;
                              margin-right: 1rem;
                              border-radius: 50%;

                          &#125;
                              c3m-carousel .bulletpoint li:hover&#123;
                                  opacity:0.8;
                              &#125;
                                  c3m-carousel .bulletpoint li button&#123;
                                      height: 100%;
                                      width: 100%;
                                      background-color: initial;
                                      cursor: pointer;
                                  &#125;
                                      c3m-carousel .bulletpoint li[aria-selected=&#x22;true&#x22;]&#123;
                                          background-color: white;
                                      &#125;


                               /* CONTROLS */
                               c3m-carousel .previousCarouselItem::before &#123;
                                   display: block;
                                   width: 1rem;
                                   height: 1rem;
                                   content: &#x22;&#x22;;
                                   border-bottom: 4px solid white;
                                   border-left: 4px solid white;
                                   transform: rotate(45deg);
                                   position: absolute;
                                   top: 1rem;
                                   left: 50%;
                               &#125;
                                  c3m-carousel .nextCarouselItem::before &#123;
                                      display: block;
                                      width: 1rem;
                                      height: 1rem;
                                      content: &#x22;&#x22;;
                                      border-bottom: 4px solid white;
                                      border-right: 4px solid white;
                                      transform: rotate(-45deg);
                                      position: absolute;
                                      top: 1rem;
                                      right: 50%;
                                  &#125;
                                  c3m-carousel .carousel-item&#123;
                                      display:inline-block;
                                      height: 20rem;
                                      width:100%;
                                  &#125;

                                      c3m-carousel .previousCarouselItem:hover,
                                      c3m-carousel .nextCarouselItem:hover&#123;
                                          opacity: 0.8;
                                      &#125;

                                          c3m-carousel .carousel-item-content&#123;
                                              display: block;
                                              width: 100%;
                                              background-color: #2f2c2c;
                                              height: calc(100% - 3.4rem);
                                              margin: 0 auto;
                                              position: absolute;
                                              transition: transform 0.3s;
                                              transition: transform 0.3s, -webkit-transform 0.3s;
                                              left: 0;
                                              top: 3.4rem;
                                          &#125;
                                          c3m-carousel .carousel-item-content p&#123;
                                                  display: block;
                                                  padding-top: 5.2rem;
                                                  color: white;
                                                  font-size: 4rem;
                                                  text-align: center;
                                              &#125;
                                                  c3m-carousel .previousCarouselItem&#123;
                                                      position: absolute;
                                                      top:0;
                                                      display: inline-block;
                                                      width: 50%;
                                                      height: 3.4rem;
                                                      left:0;
                                                      cursor:pointer;
                                                      background-color: #716e6e;
                                                  &#125;
                                                  c3m-carousel .nextCarouselItem[tabindex=&#x22;-1&#x22;],
                                                  c3m-carousel .previousCarouselItem[tabindex=&#x22;-1&#x22;]&#123;
                                                      z-index: 0;
                                                      opacity:0;
                                                  &#125;
                                                  c3m-carousel .nextCarouselItem[tabindex=&#x22;0&#x22;],
                                                  c3m-carousel .previousCarouselItem[tabindex=&#x22;0&#x22;]&#123;
                                                      z-index: 15;
                                                  &#125;
                                                      c3m-carousel .nextCarouselItem&#123;
                                                          position: absolute;
                                                          top:0;
                                                          display: inline-block;
                                                          width: 50%;
                                                          height: 3.4rem;
                                                          left:50%;
                                                          cursor:pointer;
                                                          background-color: #716e6e;
                                                      &#125;
                  /* **** MIN WIN 850 px ***** */

                  @media (min-width: 850px)&#123;
                      c3m-carousel .previousCarouselItem::before &#123;
                          width: 2rem;
                          height: 2rem;
                          top: 45%;
                          left: 39.7%;
                      &#125;
                          c3m-carousel .nextCarouselItem::before &#123;
                              width: 2rem;
                              height: 2rem;
                              top: 45%;
                              right: 39.7%
                          &#125;
                      c3m-carousel .previousCarouselItem&#123;
                          width: 11.5%;
                          height: 100%;
                          font-size: 3.5rem;
                          display:inline-block;
                          left:0;
                      &#125;
                      c3m-carousel .carouselItemList &#123;
                          width: 75%;
                      &#125;
                      c3m-carousel  .nextCarouselItem&#123;
                          width: 11.5%;
                          height: 100%;
                          font-size: 3.5rem;
                          display:inline-block;
                          right:0;
                          left:auto;
                      &#125;
                      c3m-carousel .carousel-item-content &#123;
                          display: block;
                          margin: 0 auto;
                          position: absolute;
                          height: 100%;
                          left: 0;
                          top: 0;
                      &#125;
                      c3m-carousel .carousel-item-content p &#123;
                          padding-top: 6rem;
                      &#125;
                      c3m-carousel .bulletpoint&#123;
                          bottom:1rem;
                      &#125;
                      c3m-carousel .bulletpoint li &#123;
                          background-color: #c7c4c4;
                      &#125;

                  &#125;
              </code>
            </pre>
        </div>
      </c3m-tab>


      <c3m-tab tabTitle="TypeScript">
        <p class="pre-code">For <strong>carousel.component.ts</strong></p>
        <div class="code">
          <!--?prettify lang=js linenums=true?-->
          <pre class="prettyprint linenums">
                  <code>
                       import &#123;Component, ViewEncapsulation, OnInit, ElementRef, QueryList, ViewChildren, AfterViewInit&#125; from &#x27;@angular/core&#x27;;
                        import &#123; CarouselItemComponent&#125; from &#x27;./carousel-item/carousel-item.component&#x27;;

                        @Component(&#123;
                          selector: &#x27;c3m-carousel&#x27;,
                          templateUrl: &#x27;./carousel.component.html&#x27;,
                          styleUrls: [&#x27;./carousel.component.css&#x27;],
                          encapsulation: ViewEncapsulation.None
                        &#125;)
                        export class CarouselComponent implements OnInit, AfterViewInit &#123;

                          sizeLi = 0;
                          public tabItemContent;
                          groups: Array&#x3C;CarouselItemComponent&#x3E; = [];

                          // After View Init
                          ngAfterViewInit() &#123;

                              // Select All Carousel Item Content
                              this.tabItemContent = document.querySelectorAll(&#x27;.carousel-item-content&#x27;);

                              // Calcul Size of all Carousel Item
                              for (let i = 0; i &#x3C; this.tabItemContent.length; i++) &#123;
                                  this.sizeLi = this.sizeLi + this.tabItemContent[i].getBoundingClientRect().width;
                              &#125;

                              // Opacity 0 for All Carousel Item
                              for (let i = 0; i &#x3C; this.tabItemContent.length; i++) &#123;
                                  this.tabItemContent[i].style.opacity = &#x27;0&#x27;;
                              &#125;

                              // Opacity 1 for the first Carousel Item
                              this.tabItemContent[0].style.opacity = &#x27;1&#x27;;
                          &#125;

                          // On Init
                          ngOnInit() &#123;

                            // For the vanish Carousel Items, change the Aria Attributes and Tab Index
                            this.groups.forEach((groupToClose: CarouselItemComponent) =&#x3E; &#123;
                                groupToClose.isVisible = false;
                                groupToClose.tabIndex = &#x27;-1&#x27;;
                            &#125;);

                            // For the visible Carousel Item, change the Aria Attributes and Tab Index
                            this.groups[0].isVisible = true;
                            this.groups[0].tabIndex = &#x27;0&#x27;;

                          &#125;

                          // Add a Carousel Item to the group of Carousel Item
                          addGroup(group: CarouselItemComponent): void &#123;
                            this.groups.push(group);
                          &#125;

                          // Click on Next Button
                          next(group: CarouselItemComponent): void &#123;

                                // &#x22;index&#x22; is the index of the carousel item in the group
                                const index = this.groups.indexOf(group);

                                // &#x22;lengthGroup&#x22; is the length of the Carousel Item Group
                                const lengthGroup = this.groups.length;

                               // For the vanish Carousel Items, change the Aria Attributes and Tab Index
                                this.groups.forEach((groupToClose: CarouselItemComponent) =&#x3E; &#123;
                                    groupToClose.isVisible = false;
                                    groupToClose.tabIndex = &#x27;-1&#x27;;
                                &#125;);

                                // If click next button with the last Slide (go to the first slide)
                                if (index + 1 &#x3E; lengthGroup - 1) &#123;
                                    this.groups[0].isVisible = true;
                                    this.groups[0].tabIndex = &#x27;0&#x27;;
                                    for (let i = 0; i &#x3C; this.tabItemContent.length; i++) &#123;
                                        this.tabItemContent[i].style.opacity = &#x27;0&#x27;;
                                    &#125;
                                    this.tabItemContent[lengthGroup - 1].style.opacity = &#x27;1&#x27;;
                                    this.tabItemContent[0].style.transition = &#x27;none&#x27;;
                                    this.tabItemContent[0].style.transform = &#x27;translate(+&#x27; + this.tabItemContent[0].getBoundingClientRect().width + &#x27;px, 0)&#x27;;
                                    this.tabItemContent[lengthGroup - 1].style.transform = &#x27;translate(-&#x27; + this.tabItemContent[lengthGroup - 1].getBoundingClientRect().width + &#x27;px, 0)&#x27;;

                                    setTimeout(() =&#x3E; &#123;
                                        this.tabItemContent[0].style.opacity = &#x27;1&#x27;;
                                        this.tabItemContent[0].style.transition = &#x27;transform 0.3s&#x27;;
                                        this.tabItemContent[0].style.zIndex = &#x27;10&#x27;;
                                        this.tabItemContent[0].style.transform = &#x27;translate(0,0)&#x27;;
                                    &#125;, 0);

                                &#125; else &#123;
                                    this.groups[index + 1].isVisible = true;
                                    this.groups[index + 1].tabIndex = &#x27;0&#x27;;
                                    for (let i = 0; i &#x3C; this.tabItemContent.length; i++) &#123;
                                        this.tabItemContent[i].style.opacity = &#x27;0&#x27;;
                                    &#125;
                                    this.tabItemContent[index].style.opacity = &#x27;1&#x27;;
                                    this.tabItemContent[index + 1].style.transition = &#x27;none&#x27;;
                                    this.tabItemContent[index + 1].style.transform = &#x27;translate(+&#x27; + this.tabItemContent[index + 1].getBoundingClientRect().width + &#x27;px, 0)&#x27;;
                                    this.tabItemContent[index].style.transform = &#x27;translate(-&#x27; + this.tabItemContent[index].getBoundingClientRect().width + &#x27;px, 0)&#x27;;

                                    setTimeout(() =&#x3E; &#123;
                                        this.tabItemContent[index + 1].style.opacity = &#x27;1&#x27;;
                                        this.tabItemContent[index + 1].style.transition = &#x27;transform 0.3s&#x27;;
                                        this.tabItemContent[index + 1].style.zIndex = &#x27;10&#x27;;
                                        this.tabItemContent[index + 1].style.transform = &#x27;translate(0,0)&#x27;;
                                    &#125;, 0);
                                &#125;
                            &#125;

                          previous(group: CarouselItemComponent): void &#123;
                              const index = this.groups.indexOf(group);
                              const lengthGroup = this.groups.length;

                              this.groups.forEach((groupToClose: CarouselItemComponent) =&#x3E; &#123;
                                  groupToClose.isVisible = false;
                                  groupToClose.tabIndex = &#x27;-1&#x27;;
                              &#125;);

                              if (index - 1 &#x3C; 0) &#123;
                                  this.groups[lengthGroup - 1].isVisible = true;
                                  this.groups[lengthGroup - 1].tabIndex = &#x27;0&#x27;;

                                  for (let i = 0; i &#x3C; this.tabItemContent.length; i++) &#123;
                                      this.tabItemContent[i].style.opacity = &#x27;0&#x27;;
                                  &#125;

                                  this.tabItemContent[0].style.opacity = &#x27;1&#x27;;
                                  this.tabItemContent[lengthGroup - 1].style.transition = &#x27;none&#x27;;
                                  this.tabItemContent[lengthGroup - 1].style.transform = &#x27;translate(-&#x27; + this.tabItemContent[lengthGroup - 1].getBoundingClientRect().width + &#x27;px, 0)&#x27;;
                                  this.tabItemContent[0].style.transform = &#x27;translate(+&#x27; + this.tabItemContent[0].getBoundingClientRect().width + &#x27;px, 0)&#x27;;

                                  setTimeout(() =&#x3E; &#123;
                                      this.tabItemContent[lengthGroup - 1].style.opacity = &#x27;1&#x27;;
                                      this.tabItemContent[lengthGroup - 1].style.transition = &#x27;transform 0.3s&#x27;;
                                      this.tabItemContent[lengthGroup - 1].style.zIndex = &#x27;10&#x27;;
                                      this.tabItemContent[lengthGroup - 1].style.transform = &#x27;translate(0,0)&#x27;;
                                  &#125;, 0);


                              &#125; else &#123;
                                  this.groups[index - 1].isVisible = true;
                                  this.groups[index - 1].tabIndex = &#x27;0&#x27;;

                                  this.tabItemContent[index].style.opacity = &#x27;1&#x27;;
                                  this.tabItemContent[index - 1].style.transition = &#x27;none&#x27;;
                                  this.tabItemContent[index - 1].style.transform = &#x27;translate(-&#x27; + this.tabItemContent[index - 1].getBoundingClientRect().width + &#x27;px, 0)&#x27;;
                                  this.tabItemContent[index].style.transform = &#x27;translate(+&#x27; + this.tabItemContent[index].getBoundingClientRect().width + &#x27;px, 0)&#x27;;

                                  setTimeout(() =&#x3E; &#123;
                                      this.tabItemContent[index - 1].style.opacity = &#x27;1&#x27;;
                                      this.tabItemContent[index - 1].style.transition = &#x27;transform 0.3s&#x27;;
                                      this.tabItemContent[index - 1].style.zIndex = &#x27;10&#x27;;
                                      this.tabItemContent[index - 1].style.transform = &#x27;translate(0,0)&#x27;;
                                  &#125;, 0);
                              &#125;
                          &#125;

                          goTo(indexToGo: number, group: CarouselItemComponent, ): void &#123;

                              const random = Math.floor(Math.random() * 2 + 0);
                              console.log(random);

                              this.groups.forEach((groupToClose: CarouselItemComponent) =&#x3E; &#123;
                                  groupToClose.isVisible = false;
                                  groupToClose.tabIndex = &#x27;-1&#x27;;
                              &#125;);

                                  this.groups[indexToGo].isVisible = true;
                                  this.groups[indexToGo].tabIndex = &#x27;0&#x27;;
                                  this.tabItemContent[indexToGo].style.transition = &#x27;none&#x27;;
                                  if (random === 1 ) &#123;
                                      this.tabItemContent[indexToGo].style.transform = &#x27;translate(+&#x27; + this.tabItemContent[indexToGo].getBoundingClientRect().width + &#x27;px, 0)&#x27;;
                                      for (let i = 0; i &#x3C; this.tabItemContent.length; i++) &#123;
                                          this.tabItemContent[i].style.transform = &#x27;translate(-&#x27; + this.tabItemContent[i].getBoundingClientRect().width + &#x27;px, 0)&#x27;;
                                      &#125;
                                  &#125; else if (random === 0) &#123;
                                      this.tabItemContent[indexToGo].style.transform = &#x27;translate(-&#x27; + this.tabItemContent[indexToGo].getBoundingClientRect().width + &#x27;px, 0)&#x27;;
                                      for (let i = 0; i &#x3C; this.tabItemContent.length; i++) &#123;
                                          this.tabItemContent[i].style.transform = &#x27;translate(+&#x27; + this.tabItemContent[i].getBoundingClientRect().width + &#x27;px, 0)&#x27;;
                                      &#125;
                                  &#125;

                                  setTimeout(() =&#x3E; &#123;
                                      this.tabItemContent[indexToGo].style.opacity = &#x27;1&#x27;;
                                      this.tabItemContent[indexToGo].style.transition = &#x27;transform 0.3s&#x27;;
                                      this.tabItemContent[indexToGo].style.zIndex = &#x27;10&#x27;;
                                      this.tabItemContent[indexToGo].style.transform = &#x27;translate(0,0)&#x27;;
                                  &#125;, 300);
                          &#125;
                        &#125;

                </code>
              </pre>
        </div>

        <p class="pre-code">For <strong>carousel-item.component.ts</strong></p>
        <div class="code">
          <!--?prettify lang=js linenums=true?-->
          <pre class="prettyprint linenums">
                  <code>
                        import &#123;AfterViewInit, Component, Input, OnInit, ViewEncapsulation&#125; from &#x27;@angular/core&#x27;;
                        import &#123;CarouselComponent&#125; from &#x27;../carousel.component&#x27;;

                        @Component(&#123;
                          selector: &#x27;c3m-carousel-item&#x27;,
                          templateUrl: &#x27;./carousel-item.component.html&#x27;,
                          styleUrls: [&#x27;./carousel-item.component.css&#x27;],
                          encapsulation: ViewEncapsulation.None
                        &#125;)
                        export class CarouselItemComponent implements OnInit, AfterViewInit &#123;

                          @Input() isVisible = true;
                          @Input() index: number;
                          @Input() tabIndex = &#x27;-1&#x27;;
                          @Input() itemID: string;

                          constructor(private carousel: CarouselComponent) &#123;
                            this.carousel.addGroup(this);
                          &#125;

                          ngOnInit() &#123;
                            this.itemID = &#x27;item&#x27; + this.index;
                          &#125;

                          ngAfterViewInit() &#123;
                              this.itemID = &#x27;item&#x27; + this.index;
                          &#125;

                          previousSlide(): void &#123;
                              this.carousel.previous(this);
                          &#125;

                          nextSlide(): void &#123;
                              this.carousel.next(this);
                            &#125;

                        &#125;

                </code>
              </pre>
        </div>

      </c3m-tab>
    </c3m-tabs>



  </div>
</div>
